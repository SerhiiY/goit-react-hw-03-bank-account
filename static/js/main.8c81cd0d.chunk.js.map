{"version":3,"sources":["components/Controls/style.module.css","components/Balance/style.module.css","components/TransactionHistory/style.module.css","components/Controls/index.jsx","components/Balance/index.jsx","components/TransactionHistory/index.jsx","components/Dashboard/index.jsx","components/App/index.jsx","index.js"],"names":["module","exports","Controls","onDeposit","onWithdraw","state","amount","balance","showMsg","msg","toast","error","handleQuery","target","name","replace","parentNode","querySelector","value","className","css","controls","type","placeholder","onChange","onClick","defaultProps","Balance","income","expences","TransactionHistory","rows","items","map","el","key","id","date","Dashboard","transactions","bind","newTransaction","calcIncome","calcExpences","savedTransactionList","localStorage","getItem","savedBalance","this","setState","JSON","parse","setItem","stringify","prevState","success","Date","transaction","shortid","generate","toLocaleString","filter","reduce","acc","dashboard","position","autoClose","Component","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8c81cd0d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"style_controls__b5iHy\",\"toast\":\"style_toast__209uI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"balance\":\"style_balance__GF34I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"TransactionHistory\":\"style_TransactionHistory__2pH9W\"};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { toast } from 'react-toastify';\r\nimport css from './style.module.css';\r\n\r\nconst Controls = ({ onDeposit, onWithdraw, balance }) => {\r\n  \r\n  const state = {\r\n      amount: 0,\r\n      balance: balance,\r\n  }\r\n\r\n  const showMsg = (msg) => toast.error(msg);\r\n  \r\n  const handleQuery = ({ target }) => {\r\n    const { amount } = state;\r\n    if (!amount || amount <= 0) return showMsg('Введите сумму для проведения операции!');\r\n    if (target.name === \"deposit\") {\r\n      if (state.balance < amount) return showMsg(\"На счету недостаточно средств для проведения операции!\");\r\n      onDeposit(+amount.replace(/^0+/, ''));\r\n    }\r\n    if (target.name === \"withdraw\") onWithdraw(+amount.replace(/^0+/, ''));\r\n    target.parentNode.querySelector('[name=\"amount\"]').value = 0;\r\n  };\r\n\r\n\r\n  const handleSetAmount = ({target}) => {\r\n    state[target.name] = target.value;\r\n  };\r\n\r\n  return(\r\n    <section className={css.controls}>\r\n      <input type=\"number\" placeholder=\"Введите сумму\" name=\"amount\" onChange={handleSetAmount}/>\r\n      <button type=\"button\" name=\"deposit\" onClick={handleQuery}>Deposit</button>\r\n      <button type=\"button\" name='withdraw' onClick={handleQuery}>Withdraw</button>\r\n    </section>\r\n  )  \r\n}\r\n\r\nControls.propTypes = {\r\n  onDeposit: PropTypes.func,\r\n  onWithdrow: PropTypes.func,\r\n  balance: PropTypes.number,\r\n}\r\n\r\nControls.defaultProps = {\r\n  balance: 0,\r\n}\r\n\r\nexport default Controls;","import React from 'react';\r\nimport css from './style.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Balance = ({ balance, income, expences}) => { \r\n  return (\r\n    <section className={css.balance}>\r\n      <span>⬆{income}$</span>\r\n      <span>⬇{expences}$</span>\r\n      <span>Balance: {balance}$</span>\r\n    </section>\r\n\r\n  )\r\n}\r\n\r\nBalance.propTypes = {\r\n  balance: PropTypes.number,\r\n  expences: PropTypes.number,\r\n  income: PropTypes.number,\r\n};\r\n\r\nBalance.defaultProps = {\r\n  balance: 0,\r\n  expences: 0,\r\n  income: 0,\r\n}\r\n\r\nexport default Balance;","import React from 'react';\r\nimport css from './style.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst TransactionHistory = ({ items }) => {\r\n  const rows = items.map(el => \r\n    <tr key={el.id}>\r\n      <td>{el.type}</td>\r\n      <td>{el.amount}</td>\r\n      <td>{el.date}</td>\r\n    </tr>\r\n  )\r\n  return (\r\n    <table className={css.TransactionHistory}>\r\n      <thead>\r\n        <tr>\r\n          <th>Type</th>\r\n          <th>Amount</th>\r\n          <th>Currency</th>\r\n        </tr>\r\n      </thead>\r\n\r\n      <tbody>\r\n        {rows}\r\n      </tbody>\r\n    </table>\r\n  )\r\n}\r\n\r\nTransactionHistory.propTypes = {\r\n  items: PropTypes.array,\r\n};\r\n\r\nTransactionHistory.defaultProps = {\r\n  items: [],\r\n}\r\n\r\nexport default TransactionHistory;\r\n\r\n","import React, { Component } from 'react';\nimport shortid from 'shortid';\n\nimport Controls from '../Controls';\nimport Balance from '../Balance';\nimport TransactionHistory from '../TransactionHistory';\n\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport css from './style.module.css';\n\nclass Dashboard extends Component {\n  constructor() {\n    super();\n    this.onDeposit = this.onDeposit.bind(this);\n    this.onWithdraw = this.onWithdraw.bind(this);\n    this.newTransaction = this.newTransaction.bind(this);\n    this.calcIncome = this.calcIncome.bind(this);\n    this.calcExpences = this.calcExpences.bind(this);\n  }\n\n  state = {\n    transactions: [],\n    balance: 0,\n  }\n\n  componentDidMount() {\n    const savedTransactionList = localStorage.getItem('transactions'),\n      savedBalance = localStorage.getItem('balance');\n\n    if (savedTransactionList && savedBalance) {\n      this.setState({\n        transactions: JSON.parse(savedTransactionList),\n        balance: +savedBalance\n      });\n    }\n  }\n\n  componentDidUpdate() {\n    const { transactions, balance } = this.state;\n    localStorage.setItem('transactions', JSON.stringify(transactions));\n    localStorage.setItem('balance', balance);\n  }\n\n  onDeposit(amount) {\n    this.newTransaction(amount, 'deposit');\n    this.setState(prevState => ({ balance: prevState.balance - +amount }));\n    toast.success(\"Операция успешна!\");\n  }\n\n  onWithdraw(amount) {\n    this.newTransaction(amount, 'withdrawal');\n    this.setState(prevState => ({ balance: prevState.balance + +amount }));\n    toast.success(\"Операция успешна!\");\n  }\n\n  newTransaction(amount, type) {\n    const date = new Date();\n\n    const transaction = {\n      id: shortid.generate(),\n      type: type,\n      amount: amount,\n      date: date.toLocaleString(),\n    }\n\n    this.setState(prevState => ({ transactions: [...prevState.transactions, transaction] }));\n  }\n\n  calcIncome() {\n    const filteredArr = this.state.transactions.filter(el => el.type === \"withdrawal\"),\n      sum = filteredArr.reduce((acc, el) => acc + +el.amount, 0);\n    return sum;\n  }\n\n  calcExpences() {\n    const filteredArr = this.state.transactions.filter(el => el.type === \"deposit\"),\n      sum = filteredArr.reduce((acc, el) => acc + +el.amount, 0);\n    return sum;\n  }\n\n  render() {\n\n    const income = this.calcIncome(),\n      expences = this.calcExpences(),\n      { balance, transactions } = this.state;\n    \n    return (\n      <div className={css.dashboard}>\n        <Controls onDeposit={this.onDeposit} onWithdraw={this.onWithdraw} balance={balance} />\n        <Balance balance={balance} income={income} expences={expences}/>\n        <TransactionHistory items={transactions} />\n        <ToastContainer\n          position=\"bottom-right\"\n          autoClose={3000}\n        />\n      </div>\n    );\n  }\n}\n\nexport default Dashboard;\n","import React from 'react';\r\nimport Dashboard from '../Dashboard';\r\n\r\nconst App = () => {\r\n\r\n    return (\r\n      <Dashboard/>\r\n    )\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport './style.css'\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}